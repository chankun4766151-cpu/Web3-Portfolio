# 🎯 EIP-7702 TokenBank 作业完成指南

> 本指南将帮助你一步步完成 EIP-7702 作业，包括测试功能、提交代码和准备作业材料。

---

## 📋 作业要求

1. ✅ 使用 MetaMask 官方 EIP-7702 Delegator 合约 (`0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B`)
2. ✅ 修改 TokenBank 前端，实现 EOA 授权并在一个交易中完成授权和存款
3. ⏳ 提交 GitHub 代码和测试网交易链接

---

## 🚀 快速开始

### 1️⃣ 准备工作
- ✅ 前端已启动：http://localhost:3000
- ✅ 代码已修改完成
- ⏳ 准备测试账户私钥

### 2️⃣ 获取私钥

**从 MetaMask 导出**（推荐用于测试网）：
1. 打开 MetaMask
2. 点击三个点 → 账户详情 → 导出私钥
3. 输入密码，复制私钥（`0x...`）

> ⚠️ **安全提醒**：仅在测试网使用！不要使用有真实资金的账户！

### 3️⃣ 测试 EIP-7702 功能

1. **刷新页面**：按 `Ctrl+F5` 强制刷新 http://localhost:3000
2. **显示私钥输入框**：点击紫色区域 "🔑 私钥" 右侧的 "显示"
3. **输入私钥**：粘贴你的私钥（`0x` 开头，66 个字符）
4. **输入金额**：例如 `10`
5. **点击按钮**："授权并存款 🚀"
6. **等待交易**：查看控制台日志和弹出提示
7. **复制交易哈希**：从提示框中复制完整的交易 URL

### 4️⃣ 验证交易

在区块浏览器（如 Sepolia Etherscan）查看交易，应该看到：
- ✅ **EIP-7702 Set Code** 记录
- ✅ **Approval** 事件
- ✅ **Transfer** 事件
- ✅ **Deposit** 事件

---

## 📤 提交作业

### 准备材料

1. **GitHub 仓库链接**
   ```
   https://github.com/你的用户名/tokenbank-eip7702-delegate
   ```

2. **测试网交易链接**
   ```
   https://sepolia.etherscan.io/tx/0x你的交易哈希
   ```

3. **功能说明**（可选）
   - 使用了 MetaMask EIP-7702 Delegator 合约
   - 通过私钥账户实现 `signAuthorization`
   - 在单个交易中完成 Approve + Deposit

### 提交代码到 GitHub

告诉我交易成功后，我会帮你执行：
```bash
# 添加修改的文件
git add frontend/constants/addresses.ts
git add frontend/constants/Delegator.abi.ts
git add frontend/app/page.tsx
git add frontend/lib/wagmi.tsx

# 提交
git commit -m "feat: 实现 EIP-7702 授权并存款功能"

# 推送
git push origin main
```

---

## ❓ 常见问题

### 私钥格式错误
- 确保是 66 个字符（包括 `0x`）
- 格式：`0x` + 64 位十六进制

### 余额不足
- 确保有足够的 ETH（支付 Gas）
- 确保有足够的 MTK（存款金额）

### 网络不支持 EIP-7702
- 确认连接到 Sepolia 或其他支持 EIP-7702 的测试网
- 检查 RPC 节点是否更新

---

## 📞 需要帮助？

完成测试后告诉我：
1. ✅ 交易成功了吗？
2. 📝 交易哈希是什么？

我会帮你：
- 提交代码到 GitHub
- 准备最终的提交材料
